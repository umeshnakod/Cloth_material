<div class="add__contractor__main">
    <h2 class="display-4 add__contractor__title">Add Contractor</h2>
    <hr class="my-4">
    <div class="add__contractor__form">

      <div class="add__contractor__field">
        <label class="col-lg-3 col-md-3 col-sm-3" for="uname">Name</label>
        <div class="col-lg-5 col-md-5 col-sm-5">
              <input type="text" class="form-control" [disabled]="!itemList.length" id="uname" [(ngModel)]="contractorDetails.name" placeholder="Enter name" name="uname">
        </div>
      </div>
      <div class="add__contractor__field">
          <label class="col-lg-3 col-md-3 col-sm-3" for="uname">Gender</label>
          <div class="col-lg-5 col-md-5 col-sm-5">
              <select class="form-control" [disabled]="!itemList.length" id="sel1" name="sellist1" [(ngModel)]="contractorDetails.age">
                  <option>Male</option>
                  <option>Female</option>
                  <option>other</option>
               </select>
          </div>
        </div>
        <div class="add__contractor__field">
            <label class="col-lg-3 col-md-3 col-sm-3" for="uname">select Item</label>
            <div class="col-lg-5 col-md-5 col-sm-5">
                <select class="form-control" [disabled]="!itemList.length" tabindex="0" (change)='setPannaSize(selectedItem,$event)' name="item{{selectedItem}}" [(ngModel)]="selectedItem" autofocus>
                    <option [ngValue]="default" title="" disabled> Select Item </option>
                  <option title="{{item}}" *ngFor="let item of itemList; let i = index" value="{{item}}">{{item}}</option>
                  </select>
            </div>
          </div>
    </div>
    <hr class="my-4" style="border-top: 1px solid darkred;">
    <div class="add__contractor__table__main">
        <table class="table table-striped table-bordered" *ngIf="itemList.length">
            <thead>
              <tr>
                <th>Panna</th>
                <th>Size</th>
                <th>Average</th>
              </tr>
            </thead>
            <tbody>

              <tr *ngFor="let itemData of fieldArray; let i = index">

                <td>
                  <select class="form-control" id="panna{{i}}" #panna{{i}}} [disabled]="selectedItem == null" name="panna{{i}}" [(ngModel)]="itemData.panna">
                      <option [ngValue]="default" title="" disabled> Select Panna </option>
                    <option *ngFor="let panna of pannaSize let i = index">{{panna}}</option>
                  </select>
                </td>
                <td>
                    <select class="form-control" id="size{{i}}" name="size{{i}}" (blur)="addFieldValue(fieldArray, i)" [(ngModel)]="itemData.size" [disabled]="size == null">
                        <option [value]="default" title="" disabled> Select Size </option>
                      <option *ngFor="let sz of size; let i = index">{{sz}}</option>
                    </select>
                  </td>

                <td>
                  <input [(ngModel)]="itemData.avg" class="form-control" type="text" name="{{itemData.avg}}" [disabled]="size == null"/>
                </td>
              </tr>

            </tbody>
     
          </table>

          <div style="background:#d46363" *ngIf="!itemList.length">
            <span style="font-size: 19px;height: 100%;color: #d0caca;">Sorry we are not able to fetch item list. Might be some server issue<br>Please contact to Admin or call +91 7378563847</span>
          </div>
    </div>

    <div style=" display: flex;justify-content: center;" *ngIf="itemList.length">
        <button class="btn btn-primary" style="margin: 10px;" (click)="saveRecord()">Save</button>
        <button class="btn btn-primary" style="margin: 10px;" (click)="removeLastEntry()">Remove Last</button>
      </div>

  </div>




<!-- 
<div class="container main-container">
    <div class="row justify-content-center align-items-center h-100">
        <div class="col col-lg-9 col-md-9 com-sm-9">
        <div class="row">
            <div class="col-lg-12 col-md-12 com-sm-12">
                <h1 class="page-title">Add new contractor</h1>
            </div>
        </div>    

        <div class="row mt-4">
        <div class="col-lg-12 col-md-12 com-sm-12">

        <div class="row">
            <label class="col-lg-3 col-md-3 col-sm-3 label" for="uname">Name</label>
            <div class="col-lg-6 col-md-6 col-sm-6">
                 <input type="text" class="form-control" id="uname" [(ngModel)]="contractorDetails.name" placeholder="Enter name" name="uname">
             </div>
        </div>


        <div class="row mt-2">
                <label class="col-lg-3 col-md-3 col-sm-3 label">Gender</label>
                <div class="col-lg-6 col-md-6 col-sm-6">
                 <select class="form-control" id="sel1" name="sellist1" [(ngModel)]="contractorDetails.age">
                    <option>Male</option>
                    <option>Female</option>
                    <option>other</option>
                 </select>
                </div>
        </div>
        <div class="row">
            <label class="col-lg-3 col-md-3 col-sm-3 label" for="uname">Select Item</label>
            <div class="col-lg-6 col-md-6 col-sm-6">
                <select class="form-control" tabindex="0" (change)='setPannaSize(selectedItem,$event)' name="item{{selectedItem}}" [(ngModel)]="selectedItem" autofocus>
                    <option [ngValue]="default" title="" disabled> Select Item </option>
                  <option title="{{item}}" *ngFor="let item of itemList; let i = index" value="{{item}}">{{item}}</option>
                  </select>
             </div>
      </div>

        </div>
        </div>
        <div class="row mt-4">
          <div class="col-lg-12">


            <table class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th>Panna</th>
                  <th>Size</th>
                  <th>Average</th>
                </tr>
              </thead>
              <tbody>

                <tr *ngFor="let itemData of fieldArray; let i = index">

                  <td>
                    <select class="form-control" id="panna + {{i}}" [disabled]="selectedItem == null" name="panna{{i}}" [(ngModel)]="itemData.panna">
                        <option [ngValue]="default" title="" disabled> Select Panna </option>
                      <option *ngFor="let panna of pannaSize let i = index">{{panna}}</option>
                    </select>
                  </td>
                  <td>
                      <select class="form-control" id="size + {{i}}" name="size{{i}}" (blur)="addFieldValue(fieldArray, i)" [(ngModel)]="itemData.size" [disabled]="size == null">
                          <option [value]="default" title="" disabled> Select Size </option>
                        <option *ngFor="let sz of size; let i = index">{{sz}}</option>
                      </select>
                    </td>

                  <td>
                    <input [(ngModel)]="itemData.avg" class="form-control" type="text" name="{{itemData.avg}}" [disabled]="size == null"/>
                  </td>
                </tr>

              </tbody>
       
            </table>
          </div>
        </div>
        
        <div style=" display: flex;justify-content: center;">
          <button class="btn btn-primary" style="margin: 10px;" (click)="saveRecord()">Save</button>
          <button class="btn btn-primary" style="margin: 10px;" (click)="removeLastEntry()">Remove Last</button>
        </div>
        
        </div>
    </div>

</div>  -->
